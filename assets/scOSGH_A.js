import{i as ke,r as _,w as Ee,a as O,o as Be,b as Me,c as Le,g as V,d as He,e as Ie,f as W,h as le,m as ve,j as z,k as oe,t as ie,u as X,n as re,l as fe,p as A,q as ce,s as me,v as L,x as he,_ as _e,y as Oe,z as Re,A as x,B as ye,C as Fe,D as s,E as K,F as ze,G as Ae,H as Ue,I as j,J as xe,K as ne,L as Ve,U as ge,M as de,N as De,O as Je,P as Ke,Q as be,R as je,S as qe,T as We,V as Xe,W as q,X as Ye,Y as Ge,Z as Qe,$ as te,a0 as B,a1 as h,a2 as U,a3 as ae,a4 as Ze,a5 as et,a6 as J,a7 as tt,a8 as at,a9 as st,aa as nt}from"./app-Cyw_FY8K.js";import{u as lt}from"./qmu5U8OC.js";function ot(e,a={}){const i=a.head||ke();if(i)return i.ssr?i.push(e,a):it(i,e,a)}function it(e,a,i={}){const T=_(!1),o=_({});Ee(()=>{o.value=T.value?{}:He(a)});const t=e.push(o.value,i);return O(o,S=>{t.patch(S)}),V()&&(Be(()=>{t.dispose()}),Me(()=>{T.value=!0}),Le(()=>{T.value=!1})),t}const I=e=>Ie(e),Y=Symbol("tabsRootContextKey"),rt=W({tabs:{type:le(Array),default:()=>ve([])}}),Te="ElTabBar",ct=z({name:Te}),ut=z({...ct,props:rt,setup(e,{expose:a}){const i=e,T=V(),o=oe(Y);o||ie(Te,"<el-tabs><el-tab-bar /></el-tabs>");const t=X("tabs"),y=_(),S=_(),b=()=>{let v=0,r=0;const d=["top","bottom"].includes(o.props.tabPosition)?"width":"height",c=d==="width"?"x":"y",H=c==="x"?"left":"top";return i.tabs.every(E=>{var n,C;const N=(C=(n=T.parent)==null?void 0:n.refs)==null?void 0:C[`tab-${E.uid}`];if(!N)return!1;if(!E.active)return!0;v=N[`offset${I(H)}`],r=N[`client${I(d)}`];const k=window.getComputedStyle(N);return d==="width"&&(r-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight),v+=Number.parseFloat(k.paddingLeft)),!1}),{[d]:`${r}px`,transform:`translate${I(c)}(${v}px)`}},f=()=>S.value=b();return O(()=>i.tabs,async()=>{await re(),f()},{immediate:!0}),fe(y,()=>f()),a({ref:y,update:f}),(v,r)=>(A(),ce("div",{ref_key:"barRef",ref:y,class:me([L(t).e("active-bar"),L(t).is(L(o).props.tabPosition)]),style:he(S.value)},null,6))}});var dt=_e(ut,[["__file","tab-bar.vue"]]);const bt=W({panes:{type:le(Array),default:()=>ve([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),pt={tabClick:(e,a,i)=>i instanceof Event,tabRemove:(e,a)=>a instanceof Event},pe="ElTabNav",vt=z({name:pe,props:bt,emits:pt,setup(e,{expose:a,emit:i}){const T=V(),o=oe(Y);o||ie(pe,"<el-tabs><tab-nav /></el-tabs>");const t=X("tabs"),y=Oe(),S=Re(),b=_(),f=_(),v=_(),r=_(),d=_(!1),c=_(0),H=_(!1),E=_(!0),n=x(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),C=x(()=>({transform:`translate${n.value==="width"?"X":"Y"}(-${c.value}px)`})),N=()=>{if(!b.value)return;const u=b.value[`offset${I(n.value)}`],p=c.value;if(!p)return;const l=p>u?p-u:0;c.value=l},k=()=>{if(!b.value||!f.value)return;const u=f.value[`offset${I(n.value)}`],p=b.value[`offset${I(n.value)}`],l=c.value;if(u-l<=p)return;const P=u-l>p*2?l+p:u-p;c.value=P},R=async()=>{const u=f.value;if(!d.value||!v.value||!b.value||!u)return;await re();const p=v.value.querySelector(".is-active");if(!p)return;const l=b.value,P=["top","bottom"].includes(o.props.tabPosition),w=p.getBoundingClientRect(),g=l.getBoundingClientRect(),M=P?u.offsetWidth-g.width:u.offsetHeight-g.height,$=c.value;let m=$;P?(w.left<g.left&&(m=$-(g.left-w.left)),w.right>g.right&&(m=$+w.right-g.right)):(w.top<g.top&&(m=$-(g.top-w.top)),w.bottom>g.bottom&&(m=$+(w.bottom-g.bottom))),m=Math.max(m,0),c.value=Math.min(m,M)},D=()=>{var u;if(!f.value||!b.value)return;e.stretch&&((u=r.value)==null||u.update());const p=f.value[`offset${I(n.value)}`],l=b.value[`offset${I(n.value)}`],P=c.value;l<p?(d.value=d.value||{},d.value.prev=P,d.value.next=P+l<p,p-P<l&&(c.value=p-l)):(d.value=!1,P>0&&(c.value=0))},we=u=>{const p=u.code,{up:l,down:P,left:w,right:g}=j;if(![l,P,w,g].includes(p))return;const M=Array.from(u.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),$=M.indexOf(u.target);let m;p===w||p===l?$===0?m=M.length-1:m=$-1:$<M.length-1?m=$+1:m=0,M[m].focus({preventScroll:!0}),M[m].click(),ue()},ue=()=>{E.value&&(H.value=!0)},G=()=>H.value=!1;return O(y,u=>{u==="hidden"?E.value=!1:u==="visible"&&setTimeout(()=>E.value=!0,50)}),O(S,u=>{u?setTimeout(()=>E.value=!0,50):E.value=!1}),fe(v,D),ye(()=>setTimeout(()=>R(),0)),Fe(()=>D()),a({scrollToActiveTab:R,removeFocus:G}),O(()=>e.panes,()=>T.update(),{flush:"post",deep:!0}),()=>{const u=d.value?[s("span",{class:[t.e("nav-prev"),t.is("disabled",!d.value.prev)],onClick:N},[s(K,null,{default:()=>[s(ze,null,null)]})]),s("span",{class:[t.e("nav-next"),t.is("disabled",!d.value.next)],onClick:k},[s(K,null,{default:()=>[s(Ae,null,null)]})])]:null,p=e.panes.map((l,P)=>{var w,g,M,$;const m=l.uid,Q=l.props.disabled,Z=(g=(w=l.props.name)!=null?w:l.index)!=null?g:`${P}`,ee=!Q&&(l.isClosable||e.editable);l.index=`${P}`;const Se=ee?s(K,{class:"is-icon-close",onClick:F=>i("tabRemove",l,F)},{default:()=>[s(Ue,null,null)]}):null,$e=(($=(M=l.slots).label)==null?void 0:$.call(M))||l.props.label,Ce=!Q&&l.active?0:-1;return s("div",{ref:`tab-${m}`,class:[t.e("item"),t.is(o.props.tabPosition),t.is("active",l.active),t.is("disabled",Q),t.is("closable",ee),t.is("focus",H.value)],id:`tab-${Z}`,key:`tab-${m}`,"aria-controls":`pane-${Z}`,role:"tab","aria-selected":l.active,tabindex:Ce,onFocus:()=>ue(),onBlur:()=>G(),onClick:F=>{G(),i("tabClick",l,Z,F)},onKeydown:F=>{ee&&(F.code===j.delete||F.code===j.backspace)&&i("tabRemove",l,F)}},[$e,Se])});return s("div",{ref:v,class:[t.e("nav-wrap"),t.is("scrollable",!!d.value),t.is(o.props.tabPosition)]},[u,s("div",{class:t.e("nav-scroll"),ref:b},[s("div",{class:[t.e("nav"),t.is(o.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:f,style:C.value,role:"tablist",onKeydown:we},[e.type?null:s(dt,{ref:r,tabs:[...e.panes]},null),p])])])}}}),ft=W({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:le(Function),default:()=>!0},stretch:Boolean}),se=e=>De(e)||Je(e),mt={[ge]:e=>se(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>se(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>se(e),tabAdd:()=>!0},ht=z({name:"ElTabs",props:ft,emits:mt,setup(e,{emit:a,slots:i,expose:T}){var o;const t=X("tabs"),y=x(()=>["left","right"].includes(e.tabPosition)),{children:S,addChild:b,removeChild:f}=lt(V(),"ElTabPane"),v=_(),r=_((o=e.modelValue)!=null?o:"0"),d=async(n,C=!1)=>{var N,k,R;if(!(r.value===n||de(n)))try{await((N=e.beforeLeave)==null?void 0:N.call(e,n,r.value))!==!1&&(r.value=n,C&&(a(ge,n),a("tabChange",n)),(R=(k=v.value)==null?void 0:k.removeFocus)==null||R.call(k))}catch{}},c=(n,C,N)=>{n.props.disabled||(d(C,!0),a("tabClick",n,N))},H=(n,C)=>{n.props.disabled||de(n.props.name)||(C.stopPropagation(),a("edit",n.props.name,"remove"),a("tabRemove",n.props.name))},E=()=>{a("edit",void 0,"add"),a("tabAdd")};return O(()=>e.modelValue,n=>d(n)),O(r,async()=>{var n;await re(),(n=v.value)==null||n.scrollToActiveTab()}),xe(Y,{props:e,currentName:r,registerPane:b,unregisterPane:f}),T({currentName:r}),()=>{const n=i["add-icon"],C=e.editable||e.addable?s("div",{class:[t.e("new-tab"),y.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:E,onKeydown:R=>{R.code===j.enter&&E()}},[n?ne(i,"add-icon"):s(K,{class:t.is("icon-plus")},{default:()=>[s(Ve,null,null)]})]):null,N=s("div",{class:[t.e("header"),y.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[s(vt,{ref:v,currentName:r.value,editable:e.editable,type:e.type,panes:S.value,stretch:e.stretch,onTabClick:c,onTabRemove:H},null),C]),k=s("div",{class:t.e("content")},[ne(i,"default")]);return s("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[N,k]:[k,N]])}}}),_t=W({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),yt=["id","aria-hidden","aria-labelledby"],Ne="ElTabPane",gt=z({name:Ne}),Tt=z({...gt,props:_t,setup(e){const a=e,i=V(),T=Ke(),o=oe(Y);o||ie(Ne,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=X("tab-pane"),y=_(),S=x(()=>a.closable||o.props.closable),b=be(()=>{var c;return o.currentName.value===((c=a.name)!=null?c:y.value)}),f=_(b.value),v=x(()=>{var c;return(c=a.name)!=null?c:y.value}),r=be(()=>!a.lazy||f.value||b.value);O(b,c=>{c&&(f.value=!0)});const d=je({uid:i.uid,slots:T,props:a,paneName:v,active:b,index:y,isClosable:S});return ye(()=>{o.registerPane(d)}),qe(()=>{o.unregisterPane(d.uid)}),(c,H)=>L(r)?We((A(),ce("div",{key:0,id:`pane-${L(v)}`,class:me(L(t).b()),role:"tabpanel","aria-hidden":!L(b),"aria-labelledby":`tab-${L(v)}`},[ne(c.$slots,"default")],10,yt)),[[Xe,L(b)]]):q("v-if",!0)}});var Pe=_e(Tt,[["__file","tab-pane.vue"]]);const Nt=Ye(ht,{TabPane:Pe}),Pt=Ge(Pe),wt=z({props:{type:String},setup(e){const a=Ze(),i=et(),T=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],o=a.params.type||e.type||"";if(!T.includes(o.toUpperCase())){i.push("/404");return}ot({title:(o?o.toUpperCase()+" | ":"")+"MBTI | 性格测试 | 十六人格"})},data(){return{isUse16personalities:!1,background:"#fff",tabPosition:"",template:{type:"",title:"",group:"",motto:"",describe:"",article:"",photo:{desktop:"",mobile:""}},scene:{"strengths-and-weaknesses":"","relationships-dating":"",friends:"",parents:"",careers:"","at-work":"",conclusion:""}}},async created(){const e=this.$route.params.type||this.$props.type||"";if(J.template[e]){{const{default:a}=await J.template[e](),{default:i}=await J.scene[e]();this.template=a,this.scene=i}this.background=J.color[this.template.group],this.tabPosition=window.matchMedia("(max-width: 768px)").matches?"top":"right"}},methods:{vhtml(e){return this.isUse16personalities?e.replaceAll('src="/scene','src="/16personalities/scene'):e.replaceAll("<img","<br")}}}),St=e=>(st("data-v-5c7da2ea"),e=e(),nt(),e),$t={class:"content"},Ct={class:"type-img"},kt=St(()=>h("div",{class:"clear"},null,-1)),Et={class:"article mbti-container"},Bt=["innerHTML"],Mt=["innerHTML"],Lt=["innerHTML"],Ht=["innerHTML"],It=["innerHTML"],Ot=["innerHTML"],Rt=["innerHTML"],Ft=["innerHTML"];function zt(e,a,i,T,o,t){const y=te("ui-header"),S=tt,b=te("ui-container"),f=at,v=te("client-only"),r=Pt,d=Nt;return A(),ce("main",null,[s(y),s(b,{class:"container",background:e.background},{content:B(()=>[h("div",$t,[h("div",{class:"type-info",style:he({background:e.background})},[h("h1",null,U(e.template.title.split("-").pop()),1),h("h3",null,U(e.template.type.toUpperCase())+"性格-"+U(e.template.type[0])+"人",1),h("p",null,U(e.template.describe),1)],4),h("div",Ct,[e.template.photo.mobile?(A(),ae(S,{key:0,src:"/16personalities/photo/"+e.template.photo.mobile,class:"desktop"},null,8,["src"])):q("",!0),e.template.photo.desktop?(A(),ae(S,{key:1,src:"/16personalities/photo/"+e.template.photo.desktop,class:"mobile"},null,8,["src"])):q("",!0)]),kt])]),_:1},8,["background"]),s(v,null,{default:B(()=>[s(f,{"data-ad-client":"ca-pub-7002319867557344","data-ad-slot":"1527641688","data-ad-format":"auto","data-full-width-responsive":"true"})]),_:1}),h("div",Et,[h("h1",null,U(e.template.title.split("-").pop()),1),e.tabPosition?(A(),ae(d,{key:0,"tab-position":e.tabPosition,class:"tabs"},{default:B(()=>[s(r,{label:"性格概述"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.template.article},null,8,Bt)]),_:1}),s(r,{label:"优势 & 劣势"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene["strengths-and-weaknesses"])},null,8,Mt)]),_:1}),s(r,{label:"恋爱关系"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene["relationships-dating"])},null,8,Lt)]),_:1}),s(r,{label:"友谊"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene.friends)},null,8,Ht)]),_:1}),s(r,{label:"为人父母"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene.parents)},null,8,It)]),_:1}),s(r,{label:"职业道路"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene.careers)},null,8,Ot)]),_:1}),s(r,{label:"职场习惯"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene["at-work"])},null,8,Rt)]),_:1}),s(r,{label:"性格总结"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.vhtml(e.scene.conclusion)},null,8,Ft)]),_:1})]),_:1},8,["tab-position"])):q("",!0)])])}const xt=Qe(wt,[["render",zt],["__scopeId","data-v-5c7da2ea"]]);export{xt as default};
